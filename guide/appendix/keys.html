<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Keys | Hyperledger Iroha 2 Tutorial</title>
    <meta name="description" content="Documented tutorial for Hyperledger Iroha 2 outlining the main differences between Iroha versions along with a walkthrough and additional resources.">
    <link rel="stylesheet" href="/iroha-2-docs/assets/style.34fbf971.css">
    <link rel="modulepreload" href="/iroha-2-docs/assets/app.5cbb4beb.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/guide_appendix_keys.md.0909bf9a.lean.js">
    
    <meta name="twitter:title" content="Keys | Hyperledger Iroha 2 Tutorial">
  <meta property="og:title" content="Keys | Hyperledger Iroha 2 Tutorial">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-2170b094><div class="sidebar-button" data-v-2170b094><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/iroha-2-docs/" aria-label="Hyperledger Iroha 2 Tutorial, back to home" data-v-2170b094 data-v-d97bc718><img class="logo" src="/iroha-2-docs/logo.svg" alt="Logo" data-v-d97bc718> Hyperledger Iroha 2 Tutorial</a><div class="flex-grow" data-v-2170b094></div><div class="nav" data-v-2170b094><nav class="nav-links" data-v-2170b094 data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-44509ecb><nav class="nav-links nav" data-v-44509ecb data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-44509ecb><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Getting started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/">Introduction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/build-and-install">Build and Install</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Language-specific guides</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/bash">Bash</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/python">Python 3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/rust">Rust</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/kotlin-java">Kotlin/Java</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/javascript">JavaScript</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/conclusions">Conclusions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/intro">Appendix</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/peer-configuration">Peer Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/trusted-peers">Trusted Peers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/kura">Kura</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/public-addresses">Iroha Public Addresses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/logger">Logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/genesis">Genesis Block</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/client-configuration">Client Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/running-iroha-on-bare-metal">Running Iroha On Bare Metal</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-5ab2b583><div class="container" data-v-5ab2b583><!--[--><!--]--><div style="position:relative;" class="content" data-v-5ab2b583><div><h1 id="keys" tabindex="-1">Keys <a class="header-anchor" href="#keys" aria-hidden="true">#</a></h1><p>Now it&#39;s a good practice to worry about Public key cryptography, so we&#39;ll give you a primer. Firstly, public and private keys come in pairs. For a given private key it&#39;s easy to figure out the corresponding public key, <strong>but the opposite is not true</strong>. The fact that it&#39;s practically impossible to figure out what the <strong>private key</strong> corresponding to a given <strong>public key</strong> is why they&#39;re called <em>public</em> and <em>private</em>: <strong>one is safe to share without compromising on the security of the entire exchange</strong>. <strong>With a private key, you can encrypt information, in a way, such that only the people who have your public key can read it. You cannot encrypt anything with a public key</strong>. When we say signed we really mean <em>attached <strong>a known piece of data encrypted with the private key</strong>.</em> When something is <em>signed</em>, everyone can read it, and <strong>everyone with your public key can verify that the person who wrote that message used your private key</strong>. As a result, if you&#39;re deploying your own network, <strong>you really should change the keys in all three configuration files.</strong> To get new key-pairs, use the <code>iroha_crypto_cli</code> program,</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">cargo build -p iroha_crypto_cli</span></span>
<span class="line"><span style="color:#24292F;">./target/debug/iroha_crypto_cli</span></span>
<span class="line"></span></code></pre></div><p>Which will print a fresh pair of keys. If you want to set up your own network, you should change the keys for all your peers: in <code>peer/config.json</code> change <code>PUBLIC_KEY</code> and <code>PRIVATE_KEY</code>, to the fresh pair. When you&#39;ve done that, you should add the keys to the <code>TRUSTED_PEERS</code> array in the same configuration file. <strong>EXAMPLE:</strong> in the minimum viable BFT network, you have four peers, so that means that you need to create <em>four</em> different peer configuration files (<code>config.json</code>). Each peer should have its own <code>PUBLIC_KEY</code> and <code>PRIVATE_KEY</code> and all four public keys should be added to the <code>TRUSTED_PEERS</code> array (<em>yes including the peer that you&#39;re configuring</em>), and the same <code>TRUSTED_PEERS</code> array must be copied across all four configuration files. Next, you must make sure that the peers agree on the <code>GENESIS_ACCOUNT</code> key pairs.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Don&#39;t worry about the fact that the genesis account&#39;s private key is known to all peers, the genesis account loses all privileges after the first block gets committed.</p></div><p>Finally, while the first client <em>could</em> use the genesis account to register new users, it&#39;s not a great idea for private networks. You should, instead, register a non-genesis account (for example *alice@*wonderland) and <code>unregister</code> the genesis account.</p><div class="warning custom-block"><p class="custom-block-title">NB</p><p><code>iroha_client_cli</code> currently doesn&#39;t support unregister instructions, if you plan on creating a private blockchain, you should consider writing your own client based off of the <code>client</code> Rust crate, or any of the provided client libraries.</p></div><p>Here are the links to the <a href="https://github.com/hyperledger/iroha-python" target="_blank" rel="noopener noreferrer">iroha-python</a>, <a href="https://github.com/hyperledger/iroha-ios" target="_blank" rel="noopener noreferrer">iroha-iOS</a>, <a href="https://github.com/hyperledger/iroha-java" target="_blank" rel="noopener noreferrer">iroha-java</a> and <a href="https://github.com/hyperledger/iroha-javascript" target="_blank" rel="noopener noreferrer">iroha-javascript</a> libraries.</p><p>Finally, let&#39;s talk about how keys are used in the client. Every transaction is signed on behalf of some user, thus every operation requires a key. That doesn&#39;t mean that you need to explicitly provide a key every time. For example, you need to have a user to register a user (<em>just like you need scissors to open a bag with new scissors</em>). But in order to register a user, you must also provide a new public key, so that the network can verify that it&#39;s that trustworthy *mad_hatter@*wonderland, and not some impostor (<em>possibly sent by the red_queen),</em> so there are cases where you need to provide a key explicitly.</p><p>Each time <code>iroha_client_cli</code> asks you to provide a <code>--key</code> argument, it&#39;s probably a good idea to generate a new key-pair.</p></div></div><footer class="page-footer" data-v-5ab2b583 data-v-c710f5fe><div class="edit" data-v-c710f5fe><div class="edit-link" data-v-c710f5fe data-v-dc147d58><a class="link" href="https://github.com/hyperledger/iroha-2-docs/edit/master/src/guide/appendix/keys.md" target="_blank" rel="noopener noreferrer" data-v-dc147d58>Edit this page <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-dc147d58><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-c710f5fe><p class="last-updated" data-v-c710f5fe data-v-ae38ef34><span class="prefix" data-v-ae38ef34>Last Updated:</span><span class="datetime" data-v-ae38ef34></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_index.md\":\"b9fb2d72\",\"guide_appendix.md\":\"b560ba6c\",\"guide_appendix_client-configuration.md\":\"334648fb\",\"guide_appendix_genesis.md\":\"bd69e44d\",\"guide_appendix_intro.md\":\"33914db7\",\"guide_appendix_keys.md\":\"0909bf9a\",\"guide_appendix_kura.md\":\"ee69c26e\",\"guide_appendix_logger.md\":\"8ebe1eba\",\"guide_appendix_peer-configuration.md\":\"b592d933\",\"guide_appendix_public-addresses.md\":\"55133da6\",\"guide_appendix_running-iroha-on-bare-metal.md\":\"e15fb1f8\",\"guide_appendix_trusted-peers.md\":\"305e54d8\",\"guide_bash.md\":\"cb5e50a6\",\"guide_build-and-install.md\":\"4c4acfe8\",\"guide_conclusions.md\":\"804301c5\",\"guide_javascript.md\":\"aca015ee\",\"guide_kotlin-java.md\":\"812cfc64\",\"guide_python.md\":\"11da7590\",\"guide_rust.md\":\"c70ff810\",\"index.md\":\"8bf40a12\"}")</script>
    <script type="module" async src="/iroha-2-docs/assets/app.5cbb4beb.js"></script>
    
  </body>
</html>