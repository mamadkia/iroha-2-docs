<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Build and Install Iroha 2 | Hyperledger Iroha 2 Tutorial</title>
    <meta name="description" content="Documented tutorial for Hyperledger Iroha 2 outlining the main differences between Iroha versions along with a walkthrough and additional resources.">
    <link rel="stylesheet" href="/iroha-2-docs/assets/style.34fbf971.css">
    <link rel="modulepreload" href="/iroha-2-docs/assets/app.5cbb4beb.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/guide_build-and-install.md.4c4acfe8.lean.js">
    
    <meta name="twitter:title" content="Build and Install Iroha 2 | Hyperledger Iroha 2 Tutorial">
  <meta property="og:title" content="Build and Install Iroha 2 | Hyperledger Iroha 2 Tutorial">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-2170b094><div class="sidebar-button" data-v-2170b094><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/iroha-2-docs/" aria-label="Hyperledger Iroha 2 Tutorial, back to home" data-v-2170b094 data-v-d97bc718><img class="logo" src="/iroha-2-docs/logo.svg" alt="Logo" data-v-d97bc718> Hyperledger Iroha 2 Tutorial</a><div class="flex-grow" data-v-2170b094></div><div class="nav" data-v-2170b094><nav class="nav-links" data-v-2170b094 data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-44509ecb><nav class="nav-links nav" data-v-44509ecb data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-44509ecb><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Getting started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/">Introduction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/iroha-2-docs/guide/build-and-install">Build and Install</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#install-the-rust-build-tools">Install the rust build tools</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#troubleshooting-the-rust-toolchain">Troubleshooting the rust toolchain</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#install-iroha-from-github">Install Iroha from GitHub</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Language-specific guides</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/bash">Bash</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/python">Python 3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/rust">Rust</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/kotlin-java">Kotlin/Java</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/javascript">JavaScript</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/conclusions">Conclusions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/intro">Appendix</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/peer-configuration">Peer Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/trusted-peers">Trusted Peers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/kura">Kura</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/public-addresses">Iroha Public Addresses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/logger">Logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/genesis">Genesis Block</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/client-configuration">Client Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/running-iroha-on-bare-metal">Running Iroha On Bare Metal</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-5ab2b583><div class="container" data-v-5ab2b583><!--[--><!--]--><div style="position:relative;" class="content" data-v-5ab2b583><div><h1 id="build-and-install-iroha-2" tabindex="-1">Build and Install Iroha 2 <a class="header-anchor" href="#build-and-install-iroha-2" aria-hidden="true">#</a></h1><h2 id="install-the-rust-build-tools" tabindex="-1">Install the rust build tools <a class="header-anchor" href="#install-the-rust-build-tools" aria-hidden="true">#</a></h2><p>This is normally straightforward. Sometimes it’s not. Usually, it’s enough to do either:</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">curl --proto </span><span style="color:#0A3069;">&#39;=https&#39;</span><span style="color:#24292F;"> --tlsv1.2 -sSf https://sh.rustup.rs </span><span style="color:#CF222E;">|</span><span style="color:#24292F;"> sh</span></span>
<span class="line"></span></code></pre></div><p>or to install rust via your distribution’s package manager.</p><p>If you install the latest stable rust (the default) with <code>cargo</code> you should be all set to build Iroha.</p><h2 id="troubleshooting-the-rust-toolchain" tabindex="-1">Troubleshooting the rust toolchain <a class="header-anchor" href="#troubleshooting-the-rust-toolchain" aria-hidden="true">#</a></h2><p>Sometimes, that doesn’t work. Python and rust are very flexible in terms of what you can do, so you could have both a user a system-wide and on macs even multiple system-wide installations. XKCD has a famous example of what that might look like.</p><div class="flex justify-center"><p><img src="/iroha-2-docs/assets/install-troubles.36e7cc47.png" alt=""></p></div><p>In the interest of preserving both your and our sanity, make sure that you have the right version of <code>cargo</code> paired with the right version of <code>rustc</code> (1.57 and 1.57) respectively. To show the versions, do</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">cargo -V</span></span>
<span class="line"><span style="color:#24292F;">cargo 1.57.0 (b2e52d7ca 2021-10-21)</span></span>
<span class="line"></span></code></pre></div><p>and then</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustc --version</span></span>
<span class="line"><span style="color:#24292F;">rustc 1.57.0 (f1edd0429 2021-11-29)</span></span>
<span class="line"></span></code></pre></div><p>If you get lower version numbers <strong>and</strong> you could swear that you installed the right versions, it means that you have fallen victim to the plight of most Python (and some rust) developers.</p><p>Firstly, you should establish where the version that you want to use is installed.</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustup which rustc</span></span>
<span class="line"><span style="color:#24292F;">rustup which cargo</span></span>
<span class="line"></span></code></pre></div><p>should give you some idea. As a rule of thumb, the user installations of the toolchains are in <code>~/.rustup/toolchains/stable-*/bin/</code>. If that is the case, you should be able to run</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustup toolchain update stable</span></span>
<span class="line"></span></code></pre></div><p>and that should fix your problems. If it’s not, it could be because of a shell alias. To know if that’s the case, try</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#0550AE;">type</span><span style="color:#24292F;"> rustc</span></span>
<span class="line"><span style="color:#0550AE;">type</span><span style="color:#24292F;"> cargo</span></span>
<span class="line"></span></code></pre></div><p>If these point to locations other than the one you saw when running <code>rustup which *</code>, then you have a problem. It’s not enough to just</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#0550AE;">alias</span><span style="color:#24292F;"> rustc </span><span style="color:#0A3069;">&quot;~/.rustup/toolchains/stable-*/bin/rustc&quot;</span></span>
<span class="line"><span style="color:#0550AE;">alias</span><span style="color:#24292F;"> cargo </span><span style="color:#0A3069;">&quot;~/.rustup/toolchains/stable-*/bin/cargo&quot;</span></span>
<span class="line"></span></code></pre></div><p>because there is internal logic that could break regardless of how you re-arrange your shell aliases.</p><p>The simplest solution would be to remove the versions that you don’t use. Easier said than done, however, since that means that you need to track all the versions of rustup installed and available to you. Usually, there can be two: the system package manager and the one that got installed into the standard location in your home folder. For the former, consult your distribution’s manual, (<code>apt remove rust</code>). For the latter,</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustup toolchain list</span></span>
<span class="line"></span></code></pre></div><p>and</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustup remove </span><span style="color:#CF222E;">&lt;</span><span style="color:#24292F;">toolchain</span><span style="color:#CF222E;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>for every <code>&lt;toolchain&gt;</code> , (without the angle brackets of course).</p><p>After that, make sure that</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">cargo --help</span></span>
<span class="line"></span></code></pre></div><p>results in a command-not-found error, i.e. that you have no active rust toolchain installed. Then, run</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">rustup toolchain install stable</span></span>
<span class="line"></span></code></pre></div><p>If after all of this work, you still don’t seem to have the right version, then the issue runs deeper.</p><h2 id="install-iroha-from-github" tabindex="-1">Install Iroha from GitHub <a class="header-anchor" href="#install-iroha-from-github" aria-hidden="true">#</a></h2><p>If you haven&#39;t already, you might want to create a clean folder for Iroha 2, to keep things tidy.</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">mkdir -p </span><span style="color:#CF222E;">~</span><span style="color:#24292F;">/Git</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>On macs, if you get <code>fatal: could not create work tree dir &#39;iroha&#39;: Read-only file system</code>, that&#39;s because the home folder is not a real file system. The fix is to create the <code>Git</code> folder</p></div><p>Enter the directory you have just created using</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#0550AE;">cd</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">~</span><span style="color:#24292F;">/Git</span></span>
<span class="line"></span></code></pre></div><p>Then <code>clone</code> the Iroha git repository into the folder <code>~/Git/iroha</code>.</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">git clone https://github.com/hyperledger/iroha.git</span></span>
<span class="line"></span></code></pre></div><p>This will fetch all of Iroha, including Iroha 1, and the <code>iroha2-dev</code> branch, which we will touch upon later.</p><p>Change directories</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#0550AE;">cd</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">~</span><span style="color:#24292F;">/Git/iroha</span></span>
<span class="line"></span></code></pre></div><p>and choose the right branch: the 1st preview release of Iroha 2!</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">git checkout </span><span style="color:#0A3069;">&quot;2.0.0-pre.1.rc.1&quot;</span></span>
<span class="line"></span></code></pre></div><p>After you have successfully cloned the Iroha git repository, and are on the correct branch, build the Iroha 2 client using:</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">cargo build -p iroha_client_cli</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>We take pride in the fact that Iroha is extremely quick to compile. For reference, compiling hyperledger/substrate takes a good part of ten minutes to compile on a modern M1 machine. Iroha, for comparison compiles in around 1.</p></div><p>You can run Iroha directly on bare metal, but we recommend bringing up a network of 4 containerised peers using <code>docker-compose</code> . Of course, installing Docker might seem like a daunting task, but it allows for reproducible management of configurations, which is oftentimes tricky on bare metal. Please consult the <a href="/iroha-2-docs/guide/appendix.html">appendix</a> for how to do that.</p><div class="language-bash"><pre class="shiki shiki-light" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">docker compose up</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>On a <em>properly</em> set up docker compose, you should never have to use <code>sudo</code> . If you do, consider looking into starting the docker dæmon first by running <code>systemctl enable docker</code> on Linux.</p></div><p>Depending on your set-up, this might either pull the container off of DockerHub, or build the container locally. After this (relatively short if pull, and long if build) process is complete, you&#39;ll be greeted with,</p><p><img src="/iroha-2-docs/assets/install-cli.f85eb29c.png" alt=""></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When you&#39;re done with test network, just hit <code>Control + C</code> to stop the containers (<code>^ + C</code> on Mac).</p></div></div></div><footer class="page-footer" data-v-5ab2b583 data-v-c710f5fe><div class="edit" data-v-c710f5fe><div class="edit-link" data-v-c710f5fe data-v-dc147d58><a class="link" href="https://github.com/hyperledger/iroha-2-docs/edit/master/src/guide/build-and-install.md" target="_blank" rel="noopener noreferrer" data-v-dc147d58>Edit this page <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-dc147d58><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-c710f5fe><p class="last-updated" data-v-c710f5fe data-v-ae38ef34><span class="prefix" data-v-ae38ef34>Last Updated:</span><span class="datetime" data-v-ae38ef34></span></p></div></footer><div class="next-and-prev-link" data-v-5ab2b583 data-v-24e45740><div class="container" data-v-24e45740><div class="prev" data-v-24e45740><a class="link" href="/iroha-2-docs/" data-v-24e45740><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-24e45740><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-24e45740>Introduction</span></a></div><div class="next" data-v-24e45740><a class="link" href="/iroha-2-docs/guide/bash" data-v-24e45740><span class="text" data-v-24e45740>Bash</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-24e45740><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_index.md\":\"b9fb2d72\",\"guide_appendix.md\":\"b560ba6c\",\"guide_appendix_client-configuration.md\":\"334648fb\",\"guide_appendix_genesis.md\":\"bd69e44d\",\"guide_appendix_intro.md\":\"33914db7\",\"guide_appendix_keys.md\":\"0909bf9a\",\"guide_appendix_kura.md\":\"ee69c26e\",\"guide_appendix_logger.md\":\"8ebe1eba\",\"guide_appendix_peer-configuration.md\":\"b592d933\",\"guide_appendix_public-addresses.md\":\"55133da6\",\"guide_appendix_running-iroha-on-bare-metal.md\":\"e15fb1f8\",\"guide_appendix_trusted-peers.md\":\"305e54d8\",\"guide_bash.md\":\"cb5e50a6\",\"guide_build-and-install.md\":\"4c4acfe8\",\"guide_conclusions.md\":\"804301c5\",\"guide_javascript.md\":\"aca015ee\",\"guide_kotlin-java.md\":\"812cfc64\",\"guide_python.md\":\"11da7590\",\"guide_rust.md\":\"c70ff810\",\"index.md\":\"8bf40a12\"}")</script>
    <script type="module" async src="/iroha-2-docs/assets/app.5cbb4beb.js"></script>
    
  </body>
</html>